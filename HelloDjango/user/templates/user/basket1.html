{% extends 'soap/baze.html' %}

{% block title %}
{{ title }}
{% endblock %}

{% block content %}

{{ basket }}
<div class="zayvka profile">
<h2>{{ title }}</h2>
    {% if user.username %}
        <strong>@{{ user.username }}</strong>
    {% else %}
        <strong>Гость</strong>
    {% endif %}

{% if basket %}
    <table>
        <thead>
            <tr>
              <th>Товар</th>
              <th>Цена</th>
              <th>Количество</th>
            </tr>
        </thead>
        <tbody>
            {% for item in basket %}
            <tr method="update_quantity" method="post" >
                <td class="table-name"><img src="../../../static/soap/prod/{{ item.product.img }}"> {{ item.product.name }}</td>
                <td class="product_price">{{ item.product.price }}</td>
                <td class="product_quantity" method="post">
                    <svg class="less" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg" onclick="updateQuantity({{ item.product.id }}, {{ item.quantity }}-1);">
                        <rect width="26" height="26" fill="#006400"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M24.89 7.95231C24.8736 6.22928 24.7467 4.50909 24.51 2.80231C24.4665 2.52678 24.3567 2.26595 24.19 2.04231C23.8205 1.7573 23.3825 1.57452 22.92 1.51231C19.5858 1.07305 16.2206 0.915827 12.86 1.04231C9.51535 1.04909 6.17478 1.27625 2.86 1.72231C2.40221 1.77265 1.96842 1.9531 1.61 2.24231C1.2 2.83231 1 6.62231 1 10.8823C1 16.5723 1.37 23.0923 1.72 23.7823C1.9978 24.1054 2.38682 24.3124 2.81 24.3623C5.41277 24.7771 8.04439 24.9844 10.68 24.9823C14.42 25.0723 18.53 24.9823 21.14 24.7923C22.0941 24.7678 23.0386 24.5957 23.94 24.2823C24.2996 24.0473 24.5651 23.6933 24.69 23.2823C24.8948 22.5942 24.9992 21.8802 25 21.1623C25 19.9023 25.06 13.0423 24.89 7.95231ZM23.82 21.1423C23.8324 21.5875 23.8022 22.0329 23.73 22.4723C23.67 22.8023 23.6 23.1523 23.36 23.2923C22.7477 23.4851 22.1117 23.5928 21.47 23.6123C19.39 23.8123 16.12 23.9123 12.86 23.9123C9.64009 23.9881 6.41884 23.8377 3.22 23.4623C2.98563 23.4161 2.755 23.3526 2.53 23.2723C2.18 22.3323 1.82 16.2723 1.73 10.8723C1.65 6.80231 1.73 3.17231 2.11 2.63231C2.18 2.53231 2.49 2.50231 2.94 2.42231C6.23517 2.03316 9.55221 1.85946 12.87 1.90231C15.8081 1.84785 18.7468 1.97141 21.67 2.27231C22.289 2.29778 22.8985 2.43322 23.47 2.67231C23.5364 2.94913 23.5865 3.22961 23.62 3.51231C23.74 4.51231 23.81 6.13231 23.85 7.98231C24 13.0423 23.86 19.8823 23.82 21.1423Z" fill="black"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.30127 12.1338C4.84639 12.0871 5.67437 12.0391 6.68781 12H16.1017C17.6507 12.0548 19.1107 12.1229 20.3303 12.1799C21.2271 12.2218 21.994 12.2576 22.5708 12.2776C22.6585 12.2819 22.7408 12.3145 22.8011 12.3687C22.8613 12.4229 22.8948 12.4946 22.8947 12.5691C22.8946 12.6437 22.8609 12.7154 22.8006 12.7697C22.7403 12.824 22.6578 12.8567 22.5701 12.8611C21.087 12.9049 18.2713 12.9496 15.255 12.9216L13.0269 12.9172L10.8417 12.8521C9.78812 12.8191 8.77973 12.7778 7.86755 12.7404C6.31732 12.6768 5.04497 12.6247 4.30072 12.6444C4.22116 12.6438 4.14511 12.6167 4.0889 12.569C4.03269 12.5213 4.0008 12.4568 4.00008 12.3893C3.99915 12.3556 4.0063 12.322 4.02112 12.2906C4.03593 12.2593 4.05809 12.2308 4.08625 12.2069C4.11442 12.183 4.148 12.1642 4.18496 12.1516C4.22192 12.139 4.26149 12.133 4.30127 12.1338ZM13.045 13C13.0332 12.9723 13.0268 12.9447 13.0269 12.9172C13.0277 12.9449 13.0286 12.9725 13.0295 13H13.045Z" fill="black"/>
                    </svg>
                    <span>{{ item.quantity }}</span>
                    <svg class="more" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg" onclick="updateQuantity({{ item.product.id }}, {{ item.quantity }}+1);">
                        <rect width="26" height="26" fill="#006400"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M24.89 7.95231C24.8736 6.22928 24.7467 4.50909 24.51 2.80231C24.4665 2.52678 24.3567 2.26595 24.19 2.04231C23.8205 1.7573 23.3825 1.57452 22.92 1.51231C19.5858 1.07305 16.2206 0.915827 12.86 1.04231C9.51535 1.04909 6.17478 1.27625 2.86 1.72231C2.40221 1.77265 1.96842 1.9531 1.61 2.24231C1.2 2.83231 1 6.62231 1 10.8823C1 16.5723 1.37 23.0923 1.72 23.7823C1.9978 24.1054 2.38682 24.3124 2.81 24.3623C5.41277 24.7771 8.04439 24.9844 10.68 24.9823C14.42 25.0723 18.53 24.9823 21.14 24.7923C22.0941 24.7678 23.0386 24.5957 23.94 24.2823C24.2996 24.0473 24.5651 23.6933 24.69 23.2823C24.8948 22.5942 24.9992 21.8802 25 21.1623C25 19.9023 25.06 13.0423 24.89 7.95231ZM23.82 21.1423C23.8324 21.5875 23.8022 22.0329 23.73 22.4723C23.67 22.8023 23.6 23.1523 23.36 23.2923C22.7477 23.4851 22.1117 23.5928 21.47 23.6123C19.39 23.8123 16.12 23.9123 12.86 23.9123C9.64009 23.9881 6.41884 23.8377 3.22 23.4623C2.98563 23.4161 2.755 23.3526 2.53 23.2723C2.18 22.3323 1.82 16.2723 1.73 10.8723C1.65 6.80231 1.73 3.17231 2.11 2.63231C2.18 2.53231 2.49 2.50231 2.94 2.42231C6.23517 2.03316 9.55221 1.85946 12.87 1.90231C15.8081 1.84785 18.7468 1.97141 21.67 2.27231C22.289 2.29778 22.8985 2.43322 23.47 2.67231C23.5364 2.94913 23.5865 3.22961 23.62 3.51231C23.74 4.51231 23.81 6.13231 23.85 7.98231C24 13.0423 23.86 19.8823 23.82 21.1423Z" fill="black"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M12.6633 3.57971C12.468 5.57881 12.3154 7.86444 12.2345 10.1643C12.2123 10.888 12.2332 11.5973 12.2039 12.3281C11.7238 12.3213 11.2438 12.3003 10.7709 12.3294C7.60422 12.318 4.7311 12.4567 3.44136 12.5869C3.40158 12.586 3.36201 12.5931 3.32504 12.6079C3.28808 12.6227 3.2545 12.6449 3.22634 12.6731C3.19818 12.7012 3.17602 12.7348 3.1612 12.7718C3.14639 12.8087 3.13923 12.8483 3.14017 12.8881C3.14089 12.9676 3.17278 13.0437 3.22899 13.0999C3.2852 13.1561 3.36124 13.188 3.4408 13.1887C4.62299 13.1518 7.13759 13.3286 9.98183 13.4335L12.1669 13.5103C12.1877 14.3055 12.2228 15.0578 12.2508 15.8028C12.3701 18.5468 12.5327 20.9038 12.5958 22.3724C12.5966 22.452 12.6285 22.528 12.6847 22.5842C12.7409 22.6405 12.8169 22.6723 12.8965 22.6731C12.9363 22.674 12.9758 22.6668 13.0128 22.652C13.0497 22.6372 13.0833 22.6151 13.1115 22.5869C13.1397 22.5587 13.1618 22.5251 13.1766 22.4882C13.1914 22.4512 13.1986 22.4117 13.1977 22.3719C13.2422 20.7383 13.3164 17.9584 13.355 14.8561C13.3626 14.4191 13.3559 13.9534 13.3563 13.5092L14.3951 13.5154C17.4114 13.5484 20.2271 13.4957 21.7102 13.4442C21.7979 13.4389 21.8804 13.4004 21.9407 13.3364C22.001 13.2724 22.0347 13.1878 22.0348 13.1C22.0348 13.0121 22.0013 12.9276 21.9411 12.8637C21.8809 12.7999 21.7985 12.7615 21.7108 12.7564C20.3353 12.7003 17.878 12.5378 15.1556 12.4257L13.3502 12.3557L13.3019 10.3281C13.2825 7.98535 13.2417 5.64974 13.3296 3.60059C13.3329 3.55496 13.3272 3.50913 13.3128 3.46572C13.2984 3.42232 13.2756 3.38219 13.2457 3.34762C13.2158 3.31305 13.1794 3.28473 13.1385 3.26426C13.0976 3.24379 13.0531 3.23158 13.0075 3.22833C12.9619 3.22508 12.916 3.23085 12.8726 3.24531C12.8292 3.25977 12.789 3.28264 12.7544 3.31261C12.7197 3.34258 12.6913 3.37906 12.6708 3.41998C12.6503 3.4609 12.638 3.50545 12.6346 3.55108L12.6633 3.57971Z" fill="black"/>
                    </svg>

                </td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
              <th>Итого:</th>
              <td id="product_price_all">0</td>
              <td id="product_quantity_all">0</td>
            </tr>
        </tfoot>
    </table>
    {% else %}
    <p>Корзина пуста</p>
    {% endif %}
</div>


{% endblock %}